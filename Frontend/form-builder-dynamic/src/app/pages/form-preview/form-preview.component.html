<ion-content class="ion-padding" *ngIf="formulaire && dynamicForm">
  <form [formGroup]="dynamicForm" (ngSubmit)="onSubmit()">
    <ion-list>
      <ion-item *ngFor="let field of formulaire.formFields" class="form-field">
        <ion-label position="stacked">{{ field.label }}</ion-label>
        
        <ng-container [ngSwitch]="field.fieldType">
          <ion-input *ngSwitchCase="'text'" [formControlName]="field.label" [placeholder]="field.placeholder"></ion-input>
          <ion-input *ngSwitchCase="'number'" type="number" [formControlName]="field.label" [placeholder]="field.placeholder"></ion-input>
          <ion-input *ngSwitchCase="'email'" type="email" [formControlName]="field.label" [placeholder]="field.placeholder"></ion-input>
          <ion-input *ngSwitchCase="'password'" type="password" [formControlName]="field.label" [placeholder]="field.placeholder"></ion-input>
          <ion-datetime *ngSwitchCase="'date'" [formControlName]="field.label"></ion-datetime>
          <ion-input *ngSwitchCase="'url'" type="url" [formControlName]="field.label" [placeholder]="field.placeholder"></ion-input>
          <ion-input *ngSwitchCase="'tel'" type="tel" [formControlName]="field.label" [placeholder]="field.placeholder"></ion-input>
          <ion-range *ngSwitchCase="'range'" [formControlName]="field.label"></ion-range>
          <ion-input *ngSwitchCase="'color'" type="color" [formControlName]="field.label"></ion-input>
          <ion-datetime *ngSwitchCase="'time'" display-format="HH:mm" [formControlName]="field.label"></ion-datetime>
          <ion-datetime *ngSwitchCase="'month'" display-format="MM YYYY" [formControlName]="field.label"></ion-datetime>
          <ion-datetime *ngSwitchCase="'week'" display-format="WW YYYY" [formControlName]="field.label"></ion-datetime>
          <ion-textarea *ngSwitchCase="'textarea'" [formControlName]="field.label" [placeholder]="field.placeholder"></ion-textarea>
          <ion-select *ngSwitchCase="'dropdown'" [formControlName]="field.label">
            <ion-select-option *ngFor="let option of field.options" [value]="option">{{ option }}</ion-select-option>
          </ion-select>
          <ion-radio-group *ngSwitchCase="'radio'" [formControlName]="field.label">
            <ion-item *ngFor="let option of field.options">
              <ion-label>{{ option }}</ion-label>
              <ion-radio [value]="option"></ion-radio>
            </ion-item>
          </ion-radio-group>
          <ion-checkbox *ngSwitchCase="'checkbox'" [formControlName]="field.label"></ion-checkbox>
          <ion-input *ngSwitchCase="'file'" type="file" [formControlName]="field.label"></ion-input>
        </ng-container>
        
      </ion-item>
    </ion-list>
    
    <div class="ion-padding">
      <ion-button expand="block" type="submit">Submit</ion-button>
    </div>
  </form>  
</ion-content>